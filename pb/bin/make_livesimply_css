#!/usr/bin/perl -w
use strict;

# Generates livesimply version of CSS file from main PledgeBank CSS file

open(MAINCSS, "../web/pb.css") or die "";
open(LIVESIMPLYCSS, ">../web/microsites/autogen/livesimply.css") or die "";

print LIVESIMPLYCSS "/* AUTOMATICALLY GENERATED by make_livesimply_css, do not edit */\n";
print LIVESIMPLYCSS "\n";

my $selector = "";
while(<MAINCSS>) {
    if (m/^(.*) {/) { $selector = $1 }

    s/pb.css/livesimply.css/;
    s/Top-level style sheet for PledgeBank.com/Custom style sheet for Live Simply version of PledgeBank/;

    $_ = "    font-family: verdana, arial, helvetica, sans-serif;\n" if m/font-family/;

    s/#ffffff/#888888/gi if ($selector eq "h1 span#logo_pledge");
    s/#ffffff/#000000/gi if ($selector eq "h1 span#beta");

    s/#522994/#0000ff/gi if (!m/border/);  # link colour
    s/#7b52a5/#0000aa/gi;  # visited link colour
    s/#21004a/#000000/gi;  # purple lettering/thin-borders 
    s/#522994/#000000/gi if (m/border/);  # border colour

    s/#9c7bbd/#000000/gi if ($selector =~ m/input/);
    #s/#9c7bbd/#ffffff/gi;  # darker purple background (at top of page)
    s/background-color: #9c7bbd;/background-image: url(\/livesimply-body.gif);/i;
    s/#f6e5ff/#cecfce/gi;  # lighter pink plaque background
    s/#c6b5de/#00aab5/gi;  # darker pink plaque background
    s/#ffff99/#ffffee/gi;  # "spread the word" yellow
    s/#ff8429/#ffbb88/gi;  # 'spread the word' orange border

    print LIVESIMPLYCSS $_;
}

print LIVESIMPLYCSS "\nh2 { color: #000000; }\n";


