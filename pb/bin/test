<?php
/* 
 * test:
 * Test language stuff.
 *
 * Copyright (c) 2005 UK Citizens Online Democracy. All rights reserved.
 * Email: francis@mysociety.org. WWW: http://www.mysociety.org/
 *
 * $Id: test,v 1.4 2005-11-08 15:52:38 francis Exp $
 *
 */

require_once '../../phplib/locale.php';
require_once '../conf/general';

function err($message) {
    $stderr = fopen('php://stderr', 'w');
    fwrite($stderr,$message);
    fclose($stderr); 
    exit(1);
}

/* Language negotiation */
locale_negotiate_language(OPTION_PB_LANGUAGES, 'en-gb');
locale_change();
locale_gettext_domain('PledgeBank');

# For faking using web server environment
#$_SERVER['HTTP_HOST'] = "dummy";
#$_SERVER['REQUEST_URI'] = "/dummy";
#$_SERVER['REMOTE_ADDR'] = "dummy.dummy";
#require_once "../phplib/pb.php";

print _('Start your own pledge') . " " . strftime('%e %B %Y') .  "\n";
locale_push('pt-br');
print _('Start your own pledge') . " " . strftime('%e %B %Y') .  "\n";
locale_pop();
print _('Start your own pledge') . " " . strftime('%e %B %Y') .  "\n";

