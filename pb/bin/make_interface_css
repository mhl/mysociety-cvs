#!/usr/bin/perl -w
use strict;

# Generates interface version of CSS file from main PledgeBank CSS file

open(MAINCSS, "../web/pb.css") or die "";
open(INTERFACECSS, ">../web/interface.css") or die "";

print INTERFACECSS "# AUTOMATICALLY GENERATED by make_interface_css, do not edit\n";
print INTERFACECSS "\n";

my $selector = "";
while(<MAINCSS>) {
    if (m/^(.*) {/) { $selector = $1 }

    s/pb.css/interface.css/;
    s/Top-level style sheet for PledgeBank.com/Custom style sheet for Interface version of PledgeBank/;

    # this doesn't work for some reason
    #s/background-color: #ffffff;#background-image: url(/\interface-body.gif);# if ($selector eq "body");

    s/#ffffff/#dddddd/gi if ($selector eq "h1 span#logo_pledge");
    s/#ffffff/#000000/gi if ($selector eq "h1 span#beta");

    s/#000000/#8f8f8f/gi;  # text colour
    s/#522994/#666666/gi;  # link colour
    s/#7b52a5/#222222/gi;  # visited link colour
    s/#21004a/#000000/gi;  # purple lettering/thin-borders 

    s/#9c7bbd/#ffffff/gi;  # darker purple background 
    s/#f6e5ff/#dddddd/gi;  # lighter pink background

    print INTERFACECSS $_;
}

