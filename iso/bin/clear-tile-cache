#!/bin/bash

set -e
. ../../shlib/deployfns
read_conf ../conf/general
cd ../

SORTS=$@

if [ ! -d "$OPTION_TILECACHE_DIR" ]
then
    echo "Tile cache directory $OPTION_TILECACHE_DIR not found / configured right"
    exit
fi

if [ "$SORTS" == "" ]
then
    echo "Specify caches to clear - iso, housing or scenic as list"
    exit
fi

for SORT in $SORTS
do
    # Clear tile cache
    if [ "$SORT" = "iso" ]
    then
        rm -fr $OPTION_TILECACHE_DIR/iso?*
    elif [ "$SORT" = "housing" ]
    then
        rm -fr $OPTION_TILECACHE_DIR/housing
    elif [ "$SORT" = "scenic" ]
    then
        rm -fr $OPTION_TILECACHE_DIR/scenic
    else
        echo "Unknown sort $SORT"
        exit
    fi
done


