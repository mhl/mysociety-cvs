#!/bin/bash

# Temporary example use of other scripts.

set -x # print each line
set -e # exit on error

DIR=$HOME/toobig/isodata/td-ab
RESULTS=results-AB101AF-20k

# ./transportdirect-scrape --db=$DIR/postcodes.sqlite --html=$DIR/html --to=AB101AF --date=11122007 > $DIR/$RESULTS
# bounds = (384181, 796429) to (404181, 816429)

# walkspeed = 1 m/s maxwalktime = 900 sec
cat $DIR/$RESULTS | ./transportdirect-journeys-to-grid grid 384181 404181 796429 816429 200 200 1 900 > $DIR/$RESULTS-grid

cat $DIR/$RESULTS-grid | ./grid-to-ppm field 384181 404181 796429 816429 200 200 > $DIR/$RESULTS.ppm

convert $DIR/$RESULTS.ppm $DIR/$RESULTS.png

eog $DIR/$RESULTS.png

