#!/usr/bin/python
#
# manual-invites:
# Create some invite tokens
#
# Copyright (c) 2009 UK Citizens Online Democracy. All rights reserved.
# Email: matthew@mysociety.org; WWW: http://www.mysociety.org/
#
# $Id: manual-invites,v 1.2 2009-10-08 15:27:50 duncan Exp $
#

import sys
sys.path.extend((sys.path[0]+"/../pylib", sys.path[0]+"/../../pylib"))

import mysociety.config
mysociety.config.set_file(sys.path[0]+"/../conf/general")

import page

fp = open('Emails')

for row in fp:
    email = row.strip()
    token = page.create_invite_with_token(email)
    url = mysociety.config.get('BASE_URL') + 'T/' + token
    print '%s\t%s' % (email, url)

